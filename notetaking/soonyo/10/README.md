# 10장 인터페이스



## 인터페이스란?

- 클래스, 프로그램이 제공하는 기능을 명시적으로 선언
- 인터페이스에 선언한 메서드 모두 구현 코드가 없는 추상 메서드
  - abstract 예약어가 없어도 컴파일 과정에서 자동으로 추상 메서드로 변환
  - 인터페이스에서 선언한 변수는 public static final 없이도 컴파일 과정에서 상수로 변환
- `implements` 로 클래스에서 인터페이스를 구현(추상클래스 상속과 비슷)

```java
public abstract class Calculator implements Calc{
    // abstact 예약어를 없애고 싶으면 인터페이스에서 선언했던 모든 메서드를 오버라이딩 해야함
}
```

- 인터페이스도 묵시적 형변환 가능



## 인터페이스와 다형성

- 인터페이스는 다형성을 구현하기 좋은 방법
  - 공통적인 기능을 인터페이스로 만들고 이를 구현하여 각각의 클래스 기능에 맞게 설계 가능
  - 스케줄 기능에 필요한 메소드 명세 인터페이스, 고객 등급을 나누는 기능에 필요한 메소드 명세 인터페이스 등 특정 기능이 필요할 때마다 인터페이스를 만들어 필요한 클래스에서 구현하기 좋다.



## 인터페이스 요소

- 인터페이스는 모두 추상 메서드이므로 인스턴스 형성 불가, 변수 사용도 불가



### 디폴트 메서드와 정적 메서드

- 자바7까지는 인터페이스에서 추상 메서드와 상수만 선언해서 사용할 수 있었음
- 자바 8부터 디폴트 메서드와 정적 메서드 기능 제공



**디폴트 메서드**

- 인터페이스를 구현할(implements 할 클래스)에 기본적으로 제공할 메소드

- 인터페이스에서 구현 코드까지 작성한 메서드

- `default` 예약어 사용

```java
public interface Calc{
    
    default void description(){
        System.out.println("정수 계산기를 구현합니다.");
    }
}
```

- `Calc` 인터페이스를 구현한 클래스의 인스턴스에서 디폴트 메소드 사용 가능(일반적인 인스턴스메소드처럼 사용)

- 물론 하위클래스에서 재정의도 할 수 있음





**정적 메서드**

- 인스턴스 생성과 상관없이 사용할 수 있는 메서드(단, 인터페이스가 인스턴스를 생성하는 것과는 다름)
- `static` 예약어 사용

```java
public interface Calc{
    
    static int total(int[] arr){
        int total = 0;
        
        for(int i: arr){
            total += i;
        }
        
        return total;
    }
}

public class CompleteCalc implements Calc{
    ...
}

public class CalcTest{
    public static void main(String[] args){
        
        CompleteCalc A = new CompleteCalc();
        
        // 인스턴스 생성과 별개로 인터페이스명만으로도 메소드 실행 가능
        int[] arr = {1,2,3,4,5};
        System.out.println(Calc.total(arr)); // 15
    }
}
```



- 사용할 때는 `인터페이스 이름` 으로 직접 해당 메소드를 참조



**private 메소드**

- 자바 9부터 `private` 메서드 구현 가능
- 인터페이스를 구현한 클래스에서 사용하거나 재정의 불가
- 기존에 구현된 코드를 변경하지 않고 인터페이스를 구현한 클래스에서 공통으로 사용하는 경우 private 메서드로 구현
- 혹은 클라이언트 프로그램에 제공할 기본 기능을 private 메서드로 구현



---

**두 인터페이스 간 디폴트 메소드가 중복되는 경우**

- 정적 메소드는 인스턴스 생성과 관계없이 사용가능하므로 중복될 일이 없음
- 디폴트 메소드는 인스턴스를 생성하여 사용하므로 이름이 중복될 가능성이 있음

=> 두 인터페이스를 한번에 한 클래스로 구현하여 중복되는 디폴트 메서드를 재정의



----



### 인터페이스 상속

- 형 상속이라고도 부름
- 클래스의 경우, 하나의 클래스만 상속받을 수 있으나 인터페이스 간에는 여러 개를 동시에 상속받을 수 있음

- 상속받은 인터페이스는 상위 인터페이스 에 선언한 추상 메서드를 모두 가짐
  - 따라서 여러 인터페이스를 상속받은 인터페이스를 클래스에서 구현할 경우, 모든 추상 메서드를 재정의 해야함.



