# 0929

# 8장 상속과 다형성

## 클래스 상속

### 상속 문법

* B가 A의 상속을 받을 때 : `class B extend A`

### protected 예약어

* 외부에서 접근할 수 없지만, 하위 클래스는 사용가능



## 상속에서 클래스 생성 및 형변환

### 생성과정

* 하위 클래스를 생성하면 상위 클래스가 먼저 생성된 후에 생성이 이루어진다.
  * 즉, 힙 메모리에 상위 클래스의 변수들이 먼저 생성되고, 하위 클래스가 그 변수들을 사용한다.

### super()

* 상위클래스를 호출하는 명령어
* 하위클래스 생성자에는 super() 가 자동으로 실행되는 것과 같다.
* 상위 클래스의 메서드를 참조할 수 있다. 
* 상위 클래스의 매개변수가 있는 생성자를 실행할 수 있다.



### 묵시적 형변환

* 하위클래스로 인스턴스를 생성할 때, 상위클래스의 인스턴스 자료형으로 생성할 수 있다.
  * 이를, 업캐스팅이라고 한다.
* 이때는, 선언한 클래스를 기반하여 멤버변수와 메서드에 접근할 수 있다.



## 메서드 오버라이딩

### 메서드 오버라이딩

* 하위 클래스에서 상위 클래스의 메서드를 재정의할 때 사용
* `@Overridide` 라는 '애노테이션' 을 달아서 컴파일러에게 명확히 알려줄 수 있다.
* 상위클래스와 하위클래스에 같은 이름의 메서드가 존재할 경우 선언한 클래스형이 아닌, **생성된 인스턴스**를 따른다.
  * 이를 가상메서드라고 한다.

### 가상메서드

* 메서드는 메서드 영역에 생성된다.
* 그러나 가상 메서드는 **'가상메서드 테이블'** 이 만들어진다.
  * 가상 메서드 테이블은 각 메서드 이름과 실제 메모리 주소가 짝을 이루고 있다.
* 재정의 되지 않은 메서드는 상위 클래스의 메서드와 같은 주소를 가르킨다.
* 자바의 모든 메서드는 가상 메서드이다.



## 다형성

### 다형성이란

* 하나의 코드가 여러 자료형으로 구현되어 실행되는 것



## 다운캐스팅

### 다운캐스팅이랑

* 상위 클래스로 묵시적 형변환이 된 인스턴스를, 다시 하위 클래스로 형변환 하는 것

* `isinstanceof` 를 통해 인스턴스자료형이 어떤 클래스의 자료형인지 확인할 수 있다.

  * 다운캐스팅을 할 때, 오류를 발생하지 않으려면 확인해야한다.

  
