# 0918

## 6장 클래스와 객체2



### this

* 인스턴스 자신을 가리키는 역할. 

  * 파이썬 class 의 self 와 비슷한듯

* 다른 생성자를 호출하는 것도 가능하다

  ```java
  	Person(){
          this("이름 없음", 1);
  	}
  	
  	Person(String name, int age) {
  		this.name = name;
  		this.age = age;
  	}
  ```

  

### static 변수

* 클래스에서 공통으로 사용하는 변수, **정적변수** 라고도 한다.
* 변수를 선언할 때, 자료형 앞에 static예약어를 사용한다.
* static 변수는 프로그램이 실행되어 메모리에 올라갔을 때 **딱 한 번 메모리 공간이 할당**되고, **모든 인스턴스가 그 값을 공유**한다.

* static 변수는 인스턴스보다 먼저 생성되므로, 인스턴스가 아닌 **클래스 이름으로도 참조**하여 사용할 수 있다.



### static 메서드

* 인스턴스가 생성되지 않아도 사용할 수 있는 메서드! 



### 변수 유형 및 용도

|        변수 유형         |        선언위치         |                           사용범위                           |   메모리   |                         생성과 소멸                          |
| :----------------------: | :---------------------: | :----------------------------------------------------------: | :--------: | :----------------------------------------------------------: |
|   지역 변수(로컬 변수)   |    함수 내부에 선언     |                       함수 내부에서만                        |    스택    |           함수가 호출될 때 생성, 함수 끝나면 소멸            |
| 멤버 변수(인스턴스 변수) | 클레스 멤버 변수로 선언 | 클래스 내부에서 사용, private 아니면 다른 클래스에서도 사용 가능 |     힙     | 인스턴스 생성될 때 힙에 생성, 가비지 컬렉터가 메모리 수거시 소멸 |
| static 변수(클래스 변수) |   클래스 내부에 선언    | 클래스 내부에서 사용, private 아니면 클래스 이름을 통해 다른 클래스에서 사용 가능 | 데이터영역 |  프로그램 시작시 생성, 프로그램 종료 후 메모리 해제 시 소멸  |



### 싱글톤 패턴이란

* 인스턴스를 단 하나만 생성하는 디자인 패턴

#### 싱글톤 패턴 구현

1. 생성자를 private 으로 만들기.
2. 클래스 내부에 static으로 유일한 인스턴스 생성.
3. 외부 참조 public 메서드 만들기



### 기타

* 파일에 클래스가 여러 개 존재할 수 있다. 이때, **public 클래스는 하나뿐이며 public 클래스와 자바파일 이름은 같아야 한다!** 

 

