# Chapter 5

## 05-1 객체 지향 프로그래밍과 클래스

> 객체를 먼저 정의하고 각 객체가 어떤 기능을 제공하고 객체 간 협력을 어떻게 구현할 것인가?

- 클래스
  - 객체의 속성과 기능을 코드로 구현한 것
  - 자바는 모든 요소가 클래스 내부에 있어야 한다
  - 클래스 이름은 대문자로 시작



## 05-2 클래스 살펴보기

- 멤버 변수 : 클래스 내부에 선언하여 객체 속성을 나타내는 변수

  == 속성, 특성

- 클래스형 : 객체자료형, 참조 자료형...즉, 자료형을 내가 선언해서 사용할 수 있다...?

- 메서드 : 클래스 내부에서 멤버 변수를 사용하여 클래스 기능을 구현한 것

- 패키지 : 클래스 파일의 묶음, 어떤 계층구조로 관리할지!!

  ⭐ 단순한 클래스의 묶음이 아닌 프로젝트 전체 소스 코드를 구성하는 계층구조



## 05-3 메서드

> 함수의 한 종류.
>
> 멤버 변수를 사용하여 클래스의 기능을 구현

- 함수

  - 매개변수를 받아 반환 값을 돌려준다. (매개 변수가 필요 없는 함수도 존재함.)

  - 반환 값의 자료형은 반환형
  - 반환값이 없을 때는 반환형을 쓰는 위치에 `void`
  - 장점
    - 기능의 분할로 효율적인 코드 작성
    - 같은 기능의 코드를 반복 생성 안해도 됨
    - 디버깅에 유리

- 스택 : 함수를 호출 할 때 그 함수만을 위한 메모리 공간

- 이름규칙

  - 패키지 : 모두 소문자
  - 변수와 메서드 : 소문자로 시작, 중간에 새 단어의 경우 대문자로 시작(camel)



## 05-4 클래스와 인스턴스

- main() : 자바 가상 머신이 프로그램을 시작하기 위해 호출하는 함수

  > 클래스에 만들지만 클래스의 메서드가 아니다.

```java
package classpart;

public class Student {
	int studentID;
	String studentName;
	int grade;
	String address;
	
	public String getStudentName() {
		return studentName;
	}
	
	public static void main(String[] args) {
		Student studentAhn = new Student();
		studentAhn.studentName = "안연수";
		
		System.out.println(studentAhn.studentName);
		System.out.println(studentAhn.getStudentName());
	}
}
```

- 패키지가 다른 경우에는 import 구문을 활용해 클래스를 불러와 사용할 수 있고

  같은 패키지 안에 있으면 클래스를 바로 불러올 수 있다

- 패키지가 다르다면 클래스 이름이 같아도 다른 클래스이다.

- 클래스의 생성 == 메모리 공간을 할당 받는다는 의미

  클래스형`V`변수 이름 = new`V`생성자;

- 인스턴스 : 클래스가 메모리 공간에 생성된 상태

- 참조변수.멤버변수 , 참조변수.메서드

- 힙 메모리 (동적 메모리 공간)

  - 멤버 변수를 저장할 공간
  - 지역 변수에 생성된 인스턴스를 대입한다 == 인스턴스가 생성된 힙 메모리의 주소를 대입한다
  - 클래스가 생성될 때마다 인스턴스는 다른 메모리 공간을 차지하기 때문에 클래스에 선언한 멤버 변수를 `인스턴스 변수`라고도 한다.

- 참조 변수는 힙 메모리에 생성된 인스턴스를 가리킨다.

  클래스 이름@주소 값 (해시코드) => 자바가상머신에서 생성된 객체에 할당하는 가상 주소 값



## 용어정리

| 용어      | 설명                                         |
| --------- | -------------------------------------------- |
| 객체      | 객체 지향 프로그래밍의 대상, 생성된 인스턴스 |
| 클래스    | 객체를 프로그래밍하기 위해 코드로 만든 상태  |
| 인스턴스  | 클래스가 메모리에 생성된 상태                |
| 멤버 변수 | 클래스의 속성, 특성                          |
| 메서드    | 멤버 변수를 이용하여 클래스의 기능을 구현    |
| 참조 변수 | 메모리에 생성된 인스턴스를 가리키는 변수     |
| 참조 값   | 생성된 인스턴스의 메모리 주소 값             |



## 05-5 생성자

- 디폴트 생성자
  - 생성자가 없는 클래스가 클래스 파일을 컴파일할 때 자바 컴파일러에서 자동으로 만들어주는 생성자
  - 매개변수가 없고 구현 코드도 없음
- 멤버 변수의 값을 지정하고 인스턴스를 초기화하기 위해 생성자를 직접 구현



## 05-6 참조 자료형

> 프로그래머가 필요에 의해 만든 클래스를 사용할 수도 있고, JDK에서 제공하는 클래스를 사용할 수도 있다.



## 05-7 정보은닉

- 접근제어자 : 객체 지향 프로그램에서 클래스 내부의 변수나 메서드, 생성자에 대한 접근 권한을 지정할 수 있는 예약어

- public : 외부 클래스에서 접근 가능하도록 변수나 메서드를 선언

- private : 외부 클래스에서 사용 불가능하게 변수나 메서드를 선언

- private한 변수나 메서드를 참조하려고 할 때

  The field ~~~ is not visible 이라는 오류가 뜬다!

- get() : private 변수에 접근해 값을 가져오는 메서드

- set() : private 변수에 접근해 값을 지정하는 메서드

### 정보은닉

> 클래스의 내부에서 사용할 변수나 메서드는 private으로 선언해서 외부에서 접근하지 못하도록 하는 것.
>
> 접근 제어자를 사용하여 정보은닉을 구현

| 접근 제어자        | 설명                                                 |
| ------------------ | ---------------------------------------------------- |
| public             | 외부 클래스 어디에나 접근 가능                       |
| protected          | 같은 패키지 내부와 상속관계의 클래스에서만 접근 가능 |
| 아무것도 없는 경우 | defaut, 같은 패키지 내에서만 접근 가능               |
| private            | 같은 클래스 내부에서만 접근 가능                     |



# Chapter 6

## 06-1 this 예약어

> 생성된 인스턴스 스스로를 가리키는 예약어

1. 클래스 코드에서 사용하는 this는 생성된 인스턴스 자신을 가리키는 역할을 한다.
2. 클래스의 생성자에서 다른 생성자를 호출 ? 
3. 클래스 자신의 주소값을 반환



## 06-2 객체 간 협력

객체 간 서로 어떤 값을 주고받고 메서드를 호출하는 행위

<객체 구현 과정>

1. 필요한 객체 정의

2. 각 객체에 필요한 멤버 변수 선언, 생성자 정의

3. 객체 사이의 협력 기능 구현

4. ...

5. ...

   ......



## 06-3 static 변수

> 클래스에서 공통으로 사용하는 변수

- 메모리 공간 : 인스턴스가 생성될 때마다 새로 생성되는 것이 아닌 프로그램이 실행되어 메모리에 올라갔을 때 딱 한번 메모리 공간 할당

- static 변수의 값은 모든 인스턴스가 공유

  ~~약간 리스트 얕은 복사 느낌...?~~

- 클래스 변수라고도 한다.

  why?

  인스턴스마다 생성되는 변수가 아니라 클래스에 속해 한 번만 생성되는 변수이고 이를 여러 인스턴스가 공유하기 때문!

- 여러 이름 : static 변수, 정적 변수, 클래스 변수

### 클래스 메서드

> static 메서드, 클래스 메서드..
>
> static 변수를 위한 메서드

- static 변수와 마찬가지로 클래스 이름으로 직접 호출 할 수 있다!

  (즉, 클래스 이름뒤에 바로 쓸수 있다)

**정리.**

1. 클래스 메서드 내부에서 지역 변수와 클래스 변수는 사용 가능. 인스턴스 변수 불가능.

2. 일반 메서드에서 클래스 변수 사용은 가능

   why?

   일반 메서드는 인스턴스가 생성될 때 호출되는 메서드.

   클래스 변수는 이미 만들어진 변수이기 때문에 일반 메서드에서도 클래스 변수 호출 가능

   (즉, 클래스 변수는 인스턴스 생성과는 무관하기 때문)



## 06-4 변수 유효 범위

| 변수 유형                      | 선언 위치                                    | 사용 범위                                                    | 메모리      | 생성                      | 소멸                                  |
| ------------------------------ | -------------------------------------------- | ------------------------------------------------------------ | ----------- | ------------------------- | ------------------------------------- |
| 지역 변수<br />(로컬 변수)     | 함수 내부                                    | 함수 내부에서만                                              | 스택        | 함수가 호출 될 때         | 함수가 끝날 때                        |
| 멤버 변수<br />(인스턴스 변수) | 클래스 멤버 변수로                           | 클래스 내부에서 사용<br />private이 아니면 참조 변수로 다른 클래스에서 사용 가능 | 힙          | 인스턴스가 생성 될 때     | 가비지 컬렉터가 메모리를 수거할 때    |
| static 변수<br />(클래스 변수) | static 예약어를 사용<br />클래스 내부에 선언 | 클래스 내부에서 사용<br />private이 아니면 클래스 이름으로 다른 클래스에서 사용 가능 | 데이터 영역 | 프로그램이 처음 시작할 때 | 프로그램이 끝나고 메모리를 헤제 할 때 |



## 06-5 싱글톤

> 인스턴스를 단 하나만 생성하는 디자인 패턴
>
> static을 사용하여 유일한 객체를 생성

1. 생성자를 private로 만들기

2. 클래스 내부에 static으로 유일한 인스턴스 생성하기

3. 외부에서 참조할 수 있는 public 메서드 만들기

   - 인스턴스를 반환하는 메서드는 반드시 static으로 선언해야 한다.

     ?? => get 메서드는 인스턴스 생성과 관계없이 호출할 수 있어야 하기 때문에!!!

4. 실제 사용할 코드 작성

---

## 어려운 점

1. 자료형을 내가 선언해서 사용할 수 있다...?



2. main() 함수와 사용하는 함수(?) 사이의 관계

 => main 함수가 돌아가는데 중간에 다른 함수를 불러오는 건가?

 => 그니까 별 관계는 아니고 그냥 필요할 때 불러오고....? 아 뭐지

 => mian() 함수가 돌아가는 중에 다른 함수를 불러오고 그 다음에 다 썼으면 스택이니까 다시 빠져나가고?


3. 클래스가 자료형이 될 수가 있다고? 그뜻이야?


4. this......!!!!!!!!!!!

---



## 느낀점

이클립스 진짜 개발환경 너무 구리다.

자동 완성도 안되고 구별도 잘 안돼서 진짜 어렵다.

5, 6장 넘나 어려움.... 역시 object의 벽은 너무 높다







main()에서만 뭔가 작업이 진행 될 수 있다

